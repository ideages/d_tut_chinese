# 第四章 调试

# 编译时错误

由于D是综合语言，您可能会遇到来自编译器的错误消息。以下是关于它们的含义的一些解释。

### 错误：T用作类型
T不是一种类型，而是作为一种类型的指代，常用在模板元编程上。模板不是一种类型，你可能必须像 T！int 那样实例化T来修复错误。

# 运行时错误
运行时错误意味着编译的程序不像预期的那样工作。

## 堆栈跟踪
D有异常exception，如果没有发现异常，你会得到堆栈跟踪。当然，作为系统语言，你可以打破任意效果的类型系统，但是大部分语言都是安全的，你应该得到很好的错误信息。

## Printf调试
调试代码最简单的方法是在任何地方插入打印命令。从C开始，这称为“printf调试”，尽管它在D中是“写入调试”。

还有就用关键字debug和-debug编译器开关一起调试。您可以使用此开关禁用您的打印命令而不删除它们。例如下面的代码片段。

    writeln （“你好” ）; 
    debug writeln （“世界” ）;

如果编译时没有使用-debug参数，它只会打印“Hello”。但是，用-debug编译，它也会打印“世界”。

>警告：注意不要将必要的代码放入调试中，否则您的发布版本可能会有不同的表现。

有用的（也可能是必需的）是[std.conv](http://dlang.org/phobos/std_conv.html)中的text函数，它可以将任何变量都转为字符串。

### 日志记录
不幸的是，到目前为止，标准库中没有日志记录模块。

### 调试器
dmd编译器提供了-g开关，它使您可以使用gdb或任何您喜欢的调试器。调试器可以查看 变量名称，变量值等。

>附注 [维基百科：调试器](http://wiki.dlang.org/Debuggers)

